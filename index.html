<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Table Maker</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="toolbar.css">
    <script src="jquery-3.1.0.min.js"></script>
    <script src="vue.min.js"></script>
    <script src="tools.js"></script>
    <script src="main.js"></script>
    <script type="text/x-template" id="toggle-bold-icon">
      <!-- normal B -->
      <path d="M 5 10, h 6, a 4 4 0 1 1 0 8, a 5 5 0 1 1 0 10, h -6, m 1 0, v -18, m 0 8, h 5" fill="transparent" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>

      <!-- bold B -->
      <path d="M 43 10, h 6, a 4 4 0 1 1 0 8, a 5 5 0 1 1 0 10, h -6, m 1 0, v -18, m 0 8, h 5" fill="transparent" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>

      <!-- arrow -->
      <path d="M 19 20, l 7 -7, v 4, h 7, v -4, l 7 7, l -7 7, v -4, h -7, v 4, l -7 -7" fill="transparent" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>

      <rect width="60" height="40" fill="transparent" stroke="black"/>
    </script>
  </head>
  <body id="app" onload="main()" @mousemove="mousemove($event)">
    <ul id="toolbar">
      <li id="toggle-empty" @click="toggle_empty"><div>Show/hide the (empty) indicator</div></li>
      <li id="toggle-bold"><div>Toggle Bold</div></li>
      <li id="export-json"><div>Export to JSON</div></li>
      <li id="export-rst"><div>Export to RST</div></li>
      <li id="import-json"><div>Import from JSON</div></li>
    </ul>
    <div id="workspace">
      <table>
        <tbody id="tbody">
          <tr>
            <td v-for="i in table[0].length + 2"></td>
            <td @click="add_col"></td>
          </tr>
          <tr>
            <td v-for="i in table[0].length + 3"></td>
          </tr>
          <tr v-for="row in table">
            <td></td><td></td>
            <td v-for="cell in row" @click="edit(cell)">
              <textarea v-if="cell.editing" v-model="cell.content"
                        v-focus @blur="edit_done(cell)"
                        placeholder="{{ show_empty ? '(empty)' : '' }}"></textarea>
              <div v-else v-bind:class="{'empty-prompt': show_empty}">{{ cell.content }}</div>
            </td>
            <td></td>
          </tr>
          <tr>
            <td @click="add_row"></td>
            <td v-for="i in table[0].length + 2"></td>
          </tr>
        </tbody>
      </table>
      <hr>
      <div id="output"></div>
    </div>
    <svg id="mouse-icon" viewbox="0 0 60 40" width="30" height="20"><toggle-bold-icon></toggle-bold-icon></svg>
  </body>
</html>
